# intel_systems_courses = {
#     "PSYC 1101": {"name": "General Psychology", "credits": 3, "requirements": []},
#     "CS 2051": {"name": "Honors Discrete Math", "credits": 3, "requirements": []},
#     "CS 1332": {
#         "name": "Data Structures and Algorithms",
#         "credits": 3,
#         "requirements": [],
#     },
#     "MATH 2561": {
#         "name": "Honors Multivariable Calculus",
#         "credits": 4,
#         "requirements": [],
#     },
#     "CS 2340": {"name": "Objects and Design", "credits": 3, "requirements": []},
#     "CS 4003": {"name": "AI Ethics and Society", "credits": 3, "requirements": []},
#     "CS 2110": {
#         "name": "Computer Organization and Programming",
#         "credits": 4,
#         "requirements": [],
#     },
#     "CS 2200": {
#         "name": "Systems and Networks",
#         "credits": 4,
#         "requirements": ["CS 2110"],
#     },
#     "CS 3210": {
#         "name": "Design of Operating Systems",
#         "credits": 3,
#         "requirements": ["CS 2200"],
#     },
#     "CS 3220": {"name": "Processor Design", "credits": 3, "requirements": ["CS 2200"]},
#     "CS 3511": {
#         "name": "Algorithms Honors",
#         "credits": 3,
#         "requirements": ["CS 2051", "CS 1332"],
#     },
#     "ECE 2031": {
#         "name": "Digital Design Laboratory",
#         "credits": 2,
#         "requirements": ["CS 2110"],
#     },
#     "CS 3600": {
#         "name": "Intro to Artificial Intelligence",
#         "credits": 3,
#         "requirements": ["CS 1332"],
#     },
#     "CS 3630": {
#         "name": "Intro to Perception and Robotics",
#         "credits": 3,
#         "requirements": ["CS 1332"],
#     },
#     "CS 4641": {"name": "Machine Learning", "credits": 3, "requirements": ["CS 1332"]},
#     "CS 4644": {
#         "name": "Deep Learning",
#         "credits": 3,
#         "requirements": ["MATH 2561", "CS 2110", "CS 3511"],
#     },
#     "CS 4650": {
#         "name": "Natural Language",
#         "credits": 3,
#         "requirements": ["CS 3511", "MATH 2561"],
#     },
#     "CS 4240": {
#         "name": "Compilers and Interpreters",
#         "credits": 3,
#         "requirements": ["CS 2340"],
#     },
#     "MATH 3022": {
#         "name": "Honors Applied Combinatorics",
#         "credits": 3,
#         "requirements": ["CS 2051"],
#     },
#     "MATH 3225": {
#         "name": "Honors Probability and Statistics",
#         "credits": 3,
#         "requirements": ["MATH 2561"],
#     },
#     "VIP 1": {
#         "name": "VIP 1",
#         "credits": 1,
#         "requirements": [],
#     },
#     "VIP 2": {
#         "name": "VIP 2",
#         "credits": 2,
#         "requirements": ["VIP 1"],
#     },
#     "VIP 3": {
#         "name": "VIP 3",
#         "credits": 2,
#         "requirements": ["VIP 2"],
#     },
#     "LMC 3403": {
#         "name": "Technical Communication",
#         "credits": 3,
#         "requirements": [],
#     },
# }

# intel_theory_courses = {
#     "PSYC 1101": {"name": "General Psychology", "credits": 3, "requirements": []},
#     "CS 2051": {"name": "Honors Discrete Math", "credits": 3, "requirements": []},
#     "CS 1332": {
#         "name": "Data Structures and Algorithms",
#         "credits": 3,
#         "requirements": [],
#     },
#     "MATH 2561": {
#         "name": "Honors Multivariable Calculus",
#         "credits": 4,
#         "requirements": [],
#     },
#     "CS 2110": {
#         "name": "Computer Organization and Programming",
#         "credits": 4,
#         "requirements": [],
#     },
#     "CS 3511": {
#         "name": "Algorithms Honors",
#         "credits": 3,
#         "requirements": ["CS 2051", "CS 1332"],
#     },
#     "CS 3600": {
#         "name": "Intro to Artificial Intelligence",
#         "credits": 3,
#         "requirements": ["CS 1332"],
#     },
#     "CS 4540": {
#         "name": "Advanced Algorithms",
#         "credits": 3,
#         "requirements": ["CS 3511"],
#     },
#     "MATH 3406": {
#         "name": "Second Course in Linear Algebra",
#         "credits": 3,
#         "requirements": [],
#     },
#     "MATH 4150": {
#         "name": "Intro To Number Theory",
#         "credits": 3,
#         "requirements": ["CS 2051"],
#     },
#     "CS 3630": {
#         "name": "Intro to Perception and Robotics",
#         "credits": 3,
#         "requirements": ["CS 1332"],
#     },
#     "CS 4641": {"name": "Machine Learning", "credits": 3, "requirements": ["CS 1332"]},
#     "CS 4644": {
#         "name": "Deep Learning",
#         "credits": 3,
#         "requirements": ["MATH 2561", "CS 2110", "CS 3511"],
#     },
#     "CS 4650": {
#         "name": "Natural Language",
#         "credits": 3,
#         "requirements": ["CS 3511", "MATH 2561"],
#     },
#     "MATH 3012": {
#         "name": "Applied Combinatorics",
#         "credits": 3,
#         "requirements": ["CS 2051"],
#     },
#     "MATH 3215": {
#         "name": "Probability and Statistics",
#         "credits": 3,
#         "requirements": ["MATH 2561"],
#     },
#     "ISYE 2027": {
#         "name": "Probability with Applications",
#         "credits": 3,
#         "requirements": ["MATH 2561"],
#     },
#     "ISYE 2028": {
#         "name": "Basic Statistical Methods",
#         "credits": 3,
#         "requirements": [],
#     },
#     "HUMANITY 1 credit (1)": {
#         "name": "Humanity 1 credit",
#         "credits": 1,
#         "requirements": [],
#     },
#     "HUMANITY 1 credits (2)": {
#         "name": "Humanity 2 credits",
#         "credits": 2,
#         "requirements": [],
#     },
#     "HUMANITY 1 credits (3)": {
#         "name": "Humanity 2 credits",
#         "credits": 3,
#         "requirements": [],
#     },
# }

# cs_math_minor_courses = {
#     **intel_systems_courses,
#     "MATH 4150": {
#         "name": "Intro To Number Theory",
#         "credits": 3,
#         "requirements": ["CS 2051"],
#     },
#     "MATH 4280": {
#         "name": "Information Theory",
#         "credits": 3,
#         "requirements": ["MATH 3225"],
#     },
# }

intel_systems_courses_with_research = {
    "PSYC 1101": {"name": "General Psychology", "credits": 3, "requirements": []},
    "CS 2051": {"name": "Honors Discrete Math", "credits": 3, "requirements": []},
    "CS 1332": {
        "name": "Data Structures and Algorithms",
        "credits": 3,
        "requirements": [],
    },
    "MATH 2561": {
        "name": "Honors Multivariable Calculus",
        "credits": 4,
        "requirements": [],
    },
    "CS 2340": {"name": "Objects and Design", "credits": 3, "requirements": []},
    "CS 4003": {"name": "AI Ethics and Society", "credits": 3, "requirements": []},
    "CS 2110": {
        "name": "Computer Organization and Programming",
        "credits": 4,
        "requirements": [],
    },
    "CS 2200": {
        "name": "Systems and Networks",
        "credits": 4,
        "requirements": ["CS 2110"],
    },
    "CS 3210": {
        "name": "Design of Operating Systems",
        "credits": 3,
        "requirements": ["CS 2200"],
    },
    "CS 3220": {"name": "Processor Design", "credits": 3, "requirements": ["CS 2200"]},
    "CS 3510": {
        "name": "Algorithms",
        "credits": 3,
        "requirements": ["CS 2051", "CS 1332"],
    },
    "ECE 2031": {
        "name": "Digital Design Laboratory",
        "credits": 2,
        "requirements": ["CS 2110"],
    },
    "CS 3600": {
        "name": "Intro to Artificial Intelligence",
        "credits": 3,
        "requirements": ["CS 1332"],
    },
    "CS 3630": {
        "name": "Intro to Perception and Robotics",
        "credits": 3,
        "requirements": ["CS 1332"],
    },
    "CS 4641": {"name": "Machine Learning", "credits": 3, "requirements": ["CS 1332"]},
    "CS 4644": {
        "name": "Deep Learning",
        "credits": 3,
        "requirements": ["MATH 2561", "CS 2110", "CS 3510"],
    },
    "CS 4650": {
        "name": "Natural Language",
        "credits": 3,
        "requirements": ["CS 3510", "MATH 2561"],
    },
    "CS 4240": {
        "name": "Compilers and Interpreters",
        "credits": 3,
        "requirements": ["CS 2340"],
    },
    "MATH 3012": {
        "name": "Applied Combinatorics",
        "credits": 3,
        "requirements": ["CS 2051"],
    },
    "MATH 3215": {
        "name": "Probability and Statistics",
        "credits": 3,
        "requirements": ["MATH 2561"],
    },
    "Research 1": {"name": "Research 1", "credits": 3, "requirements": []},
    "Research 2": {"name": "Research 1", "credits": 3, "requirements": ["Research 1"]},
    "Research 3": {"name": "Research 1", "credits": 3, "requirements": ["Research 2"]},
    "LMC 4701": {
        "name": "US Research Proposal Writing",
        "credits": 1,
        "requirements": [],
    },
    "LMC 4702": {
        "name": "US Research Thesis Writing",
        "credits": 1,
        "requirements": [],
    },
}


def verify(schedule, courses, required_credits):
    """
    Check that all the requirements are met and that
    number of credits per semester is >= 12 and <= 21
    """

    done_courses = set()

    total_credits = 0

    valid = True

    humanity_credits = 0

    for i, semester in schedule.items():
        credits = 0
        for course in semester:
            if "HUMANITY" in course:
                num_credits = int(course.split()[-1])
                humanity_credits += num_credits
                credits += num_credits
                continue
            if course in done_courses:
                print(f"Invalid schedule, {course} has already been taken.")
                valid = False
            requirements = courses[course]["requirements"]
            for requirement in requirements:
                if requirement not in done_courses:
                    print(
                        f"Invalid schedule, {course} requires {requirement} which has not been taken."
                    )
                    valid = False
            credits += courses[course]["credits"]

        for course in semester:
            done_courses.add(course)

        if credits < 12 or credits > 21:
            print(
                f"Invalid schedule, {credits} credits is too few credits for semester {i}."
            )
            valid = False
        else:
            print(f"Semester {i} is valid with {credits} credits.")

        total_credits += credits

    missing_courses = set(courses.keys()).difference(done_courses)
    if len(missing_courses) != 0:
        print(f"Missing courses: {missing_courses}")
        valid = False

    if humanity_credits != 6:
        print(f"Invalid schedule, {humanity_credits} != 6 humanity credits.")
        valid = False

    print(
        f"Total credits: {total_credits} + 55 = {total_credits + 55}. Missing {required_credits - total_credits - 55} credits."
    )

    return valid


def main():
    schedule_with_research = {
        2: [
            "CS 1332",  # data structures and algorithms
            "CS 2110",  # computer organization and programming
            "MATH 2561",  # multivariable calculus
            "CS 2051",  # discrete math
            "CS 2340",  # objects and design
        ],
        3: [
            "MATH 3012",  # combinatorics
            "CS 3600",  # into to AI
            "CS 3510",  # algorithms
            "CS 2200",  # systems and networks
            "Research 1",
            "LMC 4701",  # US Research Proposal Writing
        ],
        4: [
            "MATH 3215",  # probability and statistics
            "CS 3210",  # operating system design
            "CS 3630",  # intro to perception and robotics
            "CS 4641",  # machine learning
            "Research 2",
            "LMC 4702",  # US Research Thesis Writing
        ],
        5: [
            "CS 4644",  # deep learning
            "CS 4650",  # natural language
            "CS 3220",  # processor design
            "ECE 2031",  # digital design lab
            "Research 3",
            "HUMANITY 3",
        ],
        6: [
            "CS 4240",  # compilers
            "CS 4003",  # ai ethics
            "PSYC 1101",
            "HUMANITY 3",
        ],
    }

    # TODO:
    # 1. take a look at whole course catalogue for math/cs, pick ones that you want to do to make last semester more full.
    # 2. look at all ai research labs on campus

    print(verify(schedule_with_research, intel_systems_courses_with_research, 126))

    # intel_systems_schedule_with_2340 = {
    #     2: [
    #         "CS 1332",  # data structures and algorithms
    #         "CS 2110",  # computer organization and programming
    #         "MATH 2561",  # multivariable calculus
    #         "CS 2051",  # discrete math
    #         "CS 2340",  # objects and design
    #     ],
    #     3: [
    #         "CS 2200",  # systems and networks
    #         "CS 3511",  # algorithms
    #         "CS 3600",  # AI (maybe only waitlist and hard to get in, backup plan is take MATH 3225)
    #         "MATH 3022",  # combinatorics
    #         "VIP 1",
    #         # extra class??
    #     ],
    #     4: [
    #         "CS 4641",  # machine learning
    #         "CS 3210",  # design of operating systems
    #         "CS 3630",  # intro to perception and robotics
    #         "MATH 3225",  # probability and statistics
    #         "VIP 2",
    #         # extra class??
    #     ],
    #     5: [
    #         "CS 4644",  # deep learning
    #         "CS 3220",  # processor design
    #         "ECE 2031",  # digital design lab (fills up fast)
    #         "VIP 3",
    #         "PSYC 1101",  # general psychology
    #         "HUMANITY 3",  # MUSI 2700. Introduction to Music Theory
    #         # extra class??
    #     ],
    #     6: [
    #         "CS 4650",  # natural language
    #         "CS 4240",  # compilers and interpreters
    #         "CS 4003",  # AI ethics and society
    #         "LMC 3403",  # technical communication
    #         "HUMANITY 3",  # PHIL 4110. Theories of Knowledge
    #         # extra class??
    #     ],
    # }

    # print(verify(intel_systems_schedule_with_2340, intel_systems_courses, 126))

    # intel_systems_schedule = {
    #     2: [
    #         "CS 1332",  # data structures and algorithms
    #         "CS 2110",  # computer organization and programming
    #         "MATH 2561",  # multivariable calculus
    #         "CS 2051",  # discrete math
    #     ],
    #     3: [
    #         "CS 2200",  # systems and networks
    #         "CS 3511",  # algorithms
    #         "CS 3600",  # AI
    #         "CS 2340",  # objects and design
    #         "VIP 1",
    #     ],
    #     4: [
    #         "CS 4641",  # machine learning
    #         "CS 3210",  # design of operating systems
    #         "CS 3630",  # intro to perception and robotics
    #         "MATH 3022",  # combinatorics
    #         "VIP 2",
    #         "PSYC 1101",  # general psychology
    #     ],
    #     5: [
    #         "MATH 3225",  # probability and statistics
    #         "CS 4644",  # deep learning
    #         "CS 3220",  # processor design
    #         "ECE 2031",  # digital design lab
    #         "VIP 3",
    #         "HUMANITY 3",
    #     ],
    #     6: [
    #         "CS 4650",  # NLP
    #         "CS 4240",  # compilers and interpreters
    #         "CS 4003",  # AI ethics and society
    #         "LMC 3403",  # technical communication
    #         "HUMANITY 3",
    #     ],
    # }

    # print(verify(intel_systems_schedule, intel_systems_courses, 126))

    # better_schedule = {
    #     2: [
    #         "CS 2051",
    #         "CS 1332",
    #         "MATH 2561",
    #         "CS 2110",
    #     ],
    #     3: [
    #         "MATH 3022",
    #         "CS 3511",  # very hard
    #         "CS 2340",  # very hard
    #         "CS 2200",  # very hard
    #         "CS 3600",
    #         "VIP 1",
    #     ],
    #     4: [
    #         "MATH 3225",
    #         "CS 3210",
    #         "CS 3630",
    #         "VIP 2",
    #         "PSYC 1101",
    #     ],
    #     5: [
    #         "CS 3220",
    #         "CS 4641",
    #         "ECE 2031",
    #         "VIP 3",
    #         "HUMANITY 3",
    #         "CS 4003",
    #     ],
    #     6: [
    #         "LMC 3403",
    #         "CS 4644",
    #         "CS 4650",
    #         "CS 4240",
    #         "HUMANITY 3",
    #     ],
    # }

    # print(verify(better_schedule, intel_systems_courses, 126))

    # intel_theory_schedule = {
    #     1: [
    #         "CS 2051",
    #         "CS 1332",
    #         "MATH 2561",
    #         "HUMANITY 1",
    #     ],
    #     2: [
    #         "CS 3511",
    #         "CS 2110",
    #         "CS 3600",
    #         "MATH 3406",
    #     ],
    #     3: [
    #         "MATH 4150",
    #         "CS 3630",
    #         "HUMANITY 2",
    #         "CS 4641",
    #     ],
    #     4: [],
    #     5: [],
    #     6: [],
    # }

    # print(verify(intel_theory_schedule, intel_theory_courses, 126))


if __name__ == "__main__":
    main()
